# Interview-Notes

面试题目，尽可能用文字回答



# 网络

### TCP、UDP，分别在应用层有哪些协议？

```
TCP: ftp, telnet, smtp, pop3, http, DNS
UDP: DNS, SNMP(简单网络管理协议，用于管理网络设备)
```

#### 发散问题：DNS 什么时候用 TCP，什么时候用 UDP？

```
DNS 服务器之间传输时使用 TCP (区域传输)，而客户端与 DNS 服务器之间传输时用的是 UDP
还有一种情况，当服务器响应长度超过512字节，服务器会下发 TC（删减标志），客户端就会用 TCP 重发
```



### http 和 https 的区别

```
- 安全性：http 明文传输，https ssl加密传输，身份认证
- 响应速度：http 快，https 慢 （原因是 http 握手3个包，ssl 握手9个包，一共12个包）
- 默认端口：http 80，https 443
```

#### 发散问题：ssl 怎么握手的？



### https 的加密过程

```
1. 客户端发起 HTTPS 请求
2. 服务端拿出配置好的一套 HTTPS 证书，(自己制作或组织申请)
3. 服务端传送证书，(其实就是公钥，公钥里的信息包括证书颁发机构，过期时间等)
4. 客户端解析证书，(验证公钥是否有效，生成随机值并用公钥加密)
5. 客户端将加密后的密钥发送给服务端
6. 服务端用私钥解密密钥
7. 服务端用密钥加密要发送的信息，并发送给客户端
8. 客户端用密钥解密信息
```

![img](https://user-gold-cdn.xitu.io/2018/1/5/160c5b10d3f27e00?imageslim)

[参考链接](https://juejin.im/post/5a4f4884518825732b19a3ce)

#### 发散问题：HTTPS 怎么防止中间人攻击？中间人有可能篡改证书吗？



### session 和 cookie 的区别

```
1. session 在服务器端，cookie 在客户端（浏览器）
2. session 默认被存在在服务器的一个文件里（不是内存）
3. session 的运行依赖 session id，
   而 session id 是存在 cookie 中的，
   随着 cookie 回传到服务器，
   也就是说，如果浏览器禁用了 cookie ，同时 session 也会失效
   （但是可以通过其它方式实现，比如在 url 中传递 session_id）
4. session 可以放在 文件、数据库、或内存中都可以。
5. 用户验证这种场合一般会用 session
```

#### 发散问题：session 和 cookie 的共同点

```
cookie 和 session 都是用来跟踪浏览器用户身份的会话方式。
```



### TCP 怎么保证可靠传输的？

```
1. 确认和重传：接收方收到报文就会确认，发送方发送一段时间后没有收到确认就会重传。
2. 数据校验：TCP报文头有校验和，用于校验报文是否损坏
3. 数据合理分片和排序：
	 tcp会按最大传输单元(MTU)合理分片，接收方会缓存未按序到达的数据，重新排序后交给应用层。
   而UDP：IP数据报大于1500字节，大于MTU。这个时候发送方的IP层就需要分片，把数据报分成若干片，是的每一片都小于MTU。而接收方IP层则需要进行数据报的重组。由于UDP的特性，某一片数据丢失时，接收方便无法重组数据报，导致丢弃整个UDP数据报。
4. 流量控制：当接收方来不及处理发送方的数据，能通过滑动窗口，提示发送方降低发送的速率，防止包丢失。
5. 拥塞控制：当网络拥塞时，通过拥塞窗口，减少数据的发送，防止包丢失。
```



### 如果 tcp 连接断了（比如 server 宕机），client 如何处理？

```
- 首先客户端一开始是不知道 tcp 连接断了的，接下来的情况分两种
	1. tcp 建立连接的时候服务端宕机了，客户端会每隔几秒发送一个 sync 数据包
	2. tcp 建立后服务器宕机了，
		如果正是客户端上传数据的时候，没有收到服务端的 ack 确认包，就会触发重传
		如果客户端正等待服务端下发数据，则会一直等，直到超时
```

#### 发散问题：客户端意外挂掉，server 如何处理？

```

```

#### 发散问题：如何快速知道对方已经断开了呢？

```
心跳包，定时发送并接受心跳包，一旦超时不到，就断开连接，回收资源
```

#### 发散问题：KeepAlive 可以用来及时检测连接状态吗？

```
TCP有个KeepAlive开关，打开后可以用来检测死连接。通常默认是2小时，可以自己设置。但是注意，这是TCP的全局设置。假如为了能更及时的检测出断开的连接，把tcp_keepalive_time和tcp_keepalive_intvl的时间改小（参考：Link），该机器上所有应用程序的KeepAlive检测间隔都会变小，显然是不能接受的。因为不同应用程序的需求是不一样的。
KeepAlive本质上来说，是用来检测长时间不活跃的连接的。所以，不适合用来及时检测连接的状态。
```

#### 延伸阅读：TCP 保活机制

```

```



### DNS 在网络层用哪个协议，为什么。

```
在网络层用 IP 协议，因为要用到基于 IP 协议的传输层协议 UDP 或 TCP

ps：这还能问为什么的？？
```

#### 发散问题：网络层还有哪些协议？

```
ICMP, ARP, RARP 等
```

![img](https://uploadfiles.nowcoder.com/images/20160828/9172499_1472372827684_C4B68ECE42DEAF3D792F66599CDC28EC)



### 介绍 HTTPS 协议，详述 SSL 建立连接过程。

```
HTTPS 是身披 SSL 外壳的 HTTP
HTTP 加上加密处理和认证以及完整性保护后即是 HTTPS

SSL 建立连接过程
直接讲 https 加密过程，https 原理就行
```

<a href="#https 的加密过程">



### TCP 为什么是三次握手四次挥手？

```
为什么是三次握手？
因为 TCP 是全双工的，所以要确认双方都具有收发能力
第一次：证明主动方有发消息能力
第二次：证明被动方有收消息能力，并且有发消息能力
第三次：证明主动方有收消息能力
二次握手达不到目的，四次多余

另外还能这么理解，三次握手其实是 双向握手+双向确认，只是中间被动连接方的确认和握手合并在一起了
四次挥手也可能会被合并成三次挥手

为什么四次握手？
还是因为 TCP 是全双工通信
第一次：代表主动方不会再发送数据报文，但主动方仍可以接收数据报文
第二次：被动方可能还需要发送数据，所以仅发送 ACK 报文，确认收到 FIN
第三次：被动方发送完数据后，便发起 FIN
第四次：主动方确认收到 FIN，此时被动方就直接释放连接
```



滑动窗口机制
拥塞避免机制
浏览器中输入：“www.xxx.com” 之后都发生了什么？请详细阐述。
TCP 和 UDP 的区别
tcp 有哪些机制确保可靠性？拥塞控制怎么实现？
close_wait 太多怎么处理？为什么会出现这种情况？
http 2 有了解过么，新增了哪些功能，现在用的什么版本？1.1？
http 缓存机制都有哪些？什么是 cdn？header 中涉及到缓存的字段有哪些？
html 页面，怎么与后端交互？流程是什么？涉及到哪些组件？
keepalive 有什么用？
http 协议，报文格式？
Https 原理？
知道哪些 http 状态码有哪些？
http 有哪些请求方法？put、post 实现上有什么区别？
三次握手、四次挥手，为什么time_wait，2MSL具体多长时间
http的一些字段，就你知道的回答一些
三次握手和四次挥手、为什么需要三次握手
http和https的区别，CA证书的优缺点，https抓包的时候出现的是什么，https防护的是什么
TCP层和IP层讲一下区别
tcp如何保证可靠传输
流量控制怎么控制的呢？
网络模型每一层的介绍和协议
网络模型中数据流是在上层大还是下层大
流量控制解决什么问题？采用什么算法
拥塞控制解决什么问题，采用什么算法
Time wait状态，为什么要2msl?
为什么time wait可以消除本次连接产生的报文？（因为2msl，msl最长报文的生命周期）
拥塞避免和快重传是什么
如何抓取加密数据包
http网址加载过程 http和tcp的区别
http和https的区别 加密过程
零拷贝什么思想 为什么零拷贝 节省了什么 有什么方法实现
如何实现可靠的udp
tcp粘包
OSI七层模型与TCP/IP 五层模型,
常见应用层协议和运输层、网络层协议，以及硬件如路由器之类在哪一层
TCP与UDP区别和应用场景，基于TCP的协议有哪些，基于UDP的有哪些
TCP可靠传输的保证，拥塞控制目和过程
TCP粘包现象原因和解决方法
TCP三次握手过程以及每次握手后的状态改变，为什么三次？为什么两次不行？如果你的答案是防止已失效的请求报文又传送到了服务端，建立了多余的链接，浪费资源，但这个答案被否定了，你还能给出什么答案？
TCP四次挥手过程以及状态改变，为什么四次？CLOSE-WAIT和TIME-WAIT存在的意义？如何查看TIME-WAIT状态的链接数量？为什么会TIME-WAIT过多？解决方法是怎样的？
TCP、UDP、IP、以太网报文格式以及重要字段，报文从一端到另一端传递的过程。
浏览器输入URL并回车的过程以及相关协议，DNS查询过程。
HTTP1.0、1.1、2.0之间的区别
HTTP与HTTPS之间的区别，HTTPS链接建立的过程，了解对称加密算法和非对称加密算法不？
HTTP请求有哪些，多说点。Post和get区别。
HTTP常见响应状态码，从1xx到5xx都要说。如304,301,302，504，
重定向和转发区别
TCP的滑动窗口机制？
状态码 499、502、504这些是在什么场景出现的，你有在实际项目中看到吗
time_wait在哪一端产生，作用是什么
一个 10M 大小的 buffer 里存满了数据，现在要把这个 buffer 里的数据尽量发出去，可以允许部分丢包，问是用TCP好还是UDP好？为什么？
一个完整的 HTTP 请求会涉及到哪些协议？
100Mbps的带宽三个人使用，每人50Mbps，tcp怎么保证速度的
http的501，502，503，504什么意思
http和https的区别，为什么不能从http升级为https
那你知道https吗，是怎么实现的？
那https的数据是怎么加密的呢



# 操作系统

操作系统虚拟内存换页的过程
讲一下多线程与多进程区别
线程和进程的区别
多线程产生死锁的 4 个必要条件？
如何避免死锁？
垃圾回收算法有哪些？
内存泄漏和内存溢出
进程和线程的区别？并行和并发的区别？了解协程么？
进程间如何通信：进程 A 想读取进程 B 的主存怎么办？线程间通信？
线程的生命周期有哪些状态？怎么转换？
wait 和 sleep 有什么区别？什么情况下会用到 sleep？
怎么停止线程？
怎么控制多个线程按序执行？
进程和线程区别，什么时候用多进程什么时候用多线程
进程和线程的区别？不要背书上概念，有实现过吗
一个线程修改值，另外一个线程能看到修改吗
内存泄漏
程序退出去之后内存还会泄漏吗？
虚拟地址内存空间
多线程如何控制同步的
IO多路复用模型和Socket
操作系统的IO模型有哪些
中间件使用哪些IO模型
进程间通信方式
共享内存是什么
new一块100m的对象占用物理内存吗
操作系统除了堆，栈还包括哪些段呢？ 代码段 数据段
操作系统一个栈一般多大
进程调度算法
进程间通信有哪些方式
线程的几种状态
cpu调度算法有哪些
进程间同步方式有哪些
互斥锁、信号量、条件变量的区别
还了解哪些锁，介绍下自旋锁
线程拥有哪些资源
内存中有哪些区域
epoll和select的区别
如何读取网络接受的数据，底层是怎么实现的
套接字最多可以创建多少个，需要占哪些空间
多线程并发 线程和进程 如何切换 进程通信
内核和用户态区别 如何切换
操作系统分配的进程空间是怎样的？线程能共享哪些？
操作系统内存管理方式，分页分段以及段页式的优缺点
页面置换算法有哪些，FIFO为什么不好？如何改进?LRU思想，手写LRU
死锁条件，解决方式。
进程线程区别，线程安全和非线程安全区别
线程状态，start,run,wait,notify,yiled,sleep,join等方法的作用以及区别
wait,notify阻塞唤醒确切过程？在哪阻塞，在哪唤醒？为什么要出现在同步代码块中，为什么要处于while循环中？
线程中断，守护线程
公平锁和非公平锁区别？为什么公平锁效率低？
锁优化。自旋锁、自适应自旋锁、锁消除、锁粗化、偏向锁、轻量级锁、重量级锁解释
五种IO模型的区别
select、poll、epoll的区别？
协程和线程的区别
gdb怎么切换线程
介绍下虚拟内存；
介绍下什么是内核态；
同步和异步、并行和串行；
守护进程是什么，怎么实现
共享内存是怎么实现的
简述分页分段机制
操作系统进程状态有什么
管道、消息队列、共享内存它们三者哪个开销最小？
我们一般使用sleep让进程睡眠，那我们能不能做到微妙级别的sleep呢？

# Linux

怎么查看CPU负载，怎么查看一个客户下有多少进程
linux里怎么看机器的负载情况？
linux的IO模型都有哪些？
了解epoll的IO模型吗
epoll相比于select怎么升级的呢？
什么是僵尸进程
什么是孤儿进程
linux下常用的信号，（比如ctrl+c）
linux系统调用函数
linux的一些命令，比如查看cpu状态、端口占用情况
linux如何查看可用内存
Linux的top指令可以查看什么信息？top中的load指的是什么？网络相关的指令用过哪些？查端口号用哪一个？
查看 CPU 的命令和磁盘 IO 的命令
linux 系统里，一个被打开的文件可以被另一个进程删除吗？



# nginx

Nginx负载均衡
代理的概念
nginx 达到上限了怎么办？怎么对 nginx 负载均衡？dns？
nginx 负载均衡有哪些算法？各自有什么优缺点？
apache和nginx的区别
nginx的epoll模型的介绍以及io多路复用模型
你能说一下nginx的日志能排查些出什么问题
nginx的原理（多进程单线程多路复用）
nginx用来做什么？
为什么要在应用之前加nginx呢？
nginx代理哪一层请求呢
http请求在哪一层呢？
LVS知道吗
隔离级别是通过什么原理实现的
哪种隔离级别是最严格的？
mysql的默认隔离级别，oracle默认的是？
B+tree的叶子节点连接起来的好处是什么？
B+tree相比于Btree优点是什么
mysql存储引擎都有啥？
innodb和myisam都是什么？
innodb和myisam哪个性能高
回到秒杀，nginx如何高可用？
采用的什么负载均衡算法？
负载均衡算法有哪些
负载均衡的加权轮询算法怎么实现
怎么查看Linux服务器的负载，及判断哪些操作引起的负载过高
nginx的location是什么



# redis

Redis的使用，分布式锁的实现
Redis扩容机制（渐进式单线程扩容）
Redis 数据结构、对象，使用场景
Redis 内存淘汰策略
缓存的热点 Key 怎么处理？redis 缓存穿透，怎么避免？
redis keys 命令有什么缺点
主从同步原理，新加从库的过程
RDB 和 AOF 怎么选择，什么场景使用？
redis 的 zset 的使用场景？底层实现？为什么要用跳表？
你们这边redis集群是怎么样子的
redis数据结构是哪些，然后问我有序集合的底层，跳表的实现，时间复杂度以及如何加一个数据
redis字典的底层hashtable，以及和php的数组底层hashtable对比，以及redis的rehash过程，以及优化渐变式rehash
redis的hashtable和建遍式rehash过程
平常redis用的多的数据结构是什么，跳表实现，怎么维护索引，当时我说是一个简单的二分，手写二分算法，并且时间复杂度是怎么计算出来的  （2的k次方等于n  k等于logn）
缓存Redis的底层结构
Redis的set的底层实现
redis持久化，aof持久化怎么写入的
redis集群的实现
redis的setbit实现是怎么样的？
自增批次号是怎么生成的？
redis的zset的底层结构，跳跃表结构怎么做到有序性的？
redis和zk做分布式锁的对比
redis的原理（内存，通信，单线程，多路复用，持久化，一致性哈希）
redis集群的架构
缓存为什么放到redis
-redis集群某个节点挂了数据会丢掉吗?不会，到从节点去
-如果没有从节点呢？也不会，
那你说说什么是RDB和AOF？
为什么要有两种持久化方式
threadlocal做缓存的场景
threadlocal的实现原理
什么样的场景下适合用缓存？有什么特点的数据适合做缓存
redis的原理和实现
redis和memcache的区别
redis的集群机制是怎么实现的
redis实现分布式锁是怎么做的
分布式锁和普通的锁的区别
redis锁怎么实现？
加锁失败会怎么样？（会重复加锁）？
为什么不用乐观锁，而是用redis？
分布式锁如何实现按序获取锁？
redis为什么性能更高？
redis其他的数据结构一般可以用于啥功能？你用过啥？
zset为什么可以做排行榜，底层是什么？
那你讲讲跳表？
为什么使用Redis
分布式缓存和本地缓存有啥区别？让你自己设计本地缓存怎么设计？如何解决缓存过期问题？如何解决内存溢出问题？
redis常用数据结构和使用场景
Zset底层实现？跳表搜索插入删除过程？
redis过期淘汰策略
redis持久化机制？都有什么优缺点？持久化的时候还能接受请求吗？
redis事务
缓存雪崩和缓存穿透，以及解决方法
如何保证缓存和数据库的数据一致性？
redis是单线程还是多线程？为什么那么快？
redis热key问题？如何发现以及如何解决？
redis数据分布方式？有什么优点？一致性hash呢？
redis主从复制，主从切换，集群
redis的sentinel上投票选举的问题 raft算法
脑裂问题怎么处理
redis单线程结构有什么优势？有什么问题？  主要优势单线程，避免线程切换产生静态消耗，缺点是容易阻塞，虽然redis使用io复用epoll和输入缓冲区把命令按照队列先进先出输入等等
你觉得针对redis这些缺点那些命令在redis上不可使用？ 比如keys、hgetall等等这些命令 建议用scan等等 这方面阐述
redis的缓存穿透，布隆过滤器是怎么设计的
redis 持久化有哪几种方式，怎么选？
redis 主从同步是怎样的过程？
redis key 的过期策略
redis 哨兵和集群
redis数据结构的底层实现
redis如何实现高可用
zset 延时队列怎么实现的
redis 数据结构有哪些？分别怎么实现的？
redis 的持久化
Redis 的 ZSET 怎么实现的？ 尽量介绍的全一点，跳跃表加哈希表以及压缩链表
Redis 的 ZSET 做排行榜时，如果要实现分数相同时按时间顺序排序怎么实现？ 说了一个将 score 拆成高 32 位和低 32 位，高 32 位存分数，低 32 位存时间的方法。问还有没有其他方法，想不出了
redis常用的数据结构有哪几种，在你的项目中用过哪几种，以及在业务中使用的场景，？redis cluster有没有了解过，怎么做到高可用的？
redis集群和哨兵机制有什么区别？redis的持久化机制了解吗？你们在项目中是怎么做持久化的？遇到过redis的hotkey吗？怎么处理的？redis是单线程的吗？单线程为什么还这么快？redis实现分布式锁以及和zk实现的性能和稳定性的对比？
Redis连接时的connect与pconnect的区别
Redis有哪些结构时间复杂度较高
Redis hash的实现
redis实现分布式锁与用zk实现有什么区别，你用的redis，知道用zk怎么实现吗？
什么是缓存击穿，redis的hotkey如何处理？如何保证数据库与缓存双写的一致性。
redis数据结构 持久化 哨兵 cluster数据分片规则
Redis发生主备切换会出现什么问题？



# mysql

介绍下红黑树，怎么变为线程安全，锁机制
介绍下MySQL，B+树，存储引擎
Innodb的索引实现
为什么是B+树？
乐观锁、悲观锁
说一下B树和B+树的区别
数据库的隔离级别
MySQL 和 MongoDB 的区别有哪些？如何选择？
事务的并发问题有哪几种？ 丢失更新、脏读、不可重复读以及幻读。
数据库中的锁有哪几种？ 独占锁、排他锁以及更新锁。
事务的隔离级别有哪几种？ 读未提交、读已提交、可重复读和序列化。
MySQL 事务默认隔离级别是哪个？ 可重复读
数据库的索引有什么作用？（必考） 底层数据结构是什么，为什么使用这种数据结构？
MyISAM 和 InnoDB 的区别有哪些？最主要的区别是：MyISAM 表不支持事务、不支持行级锁、不支持外键。 InnoDB 表支持事务、支持行级锁、支持外键。
acid 含义？事务隔离级别？幻读怎么解决的？
用过 mysql 的锁么？有哪些锁？
MyISAM、InnoDB 区别？为什么不用 MyISAM？
mvcc 原理？多版本数据存放在哪？
mysql 脏页？
redo log，undo log？
innodb 的索引结构是什么？什么是聚簇索引？
b+ 树与二叉树区别，优点？为什么不用红黑树？
多列索引的结构
字符串类型和数字类型索引的效率？数据类型隐式转换
主键与普通索引的联系？存储上的区别？
join 和 in 怎么选择？有什么区别？
union 和 union all 有什么区别？怎么选择？
怎么处理 sql 慢查询？
索引用得不太正常怎么处理？同时有（a，b）和（a，c）的索引，查询 a 的时候，会选哪个索引？
跨库分页的实现？
分库分表有哪些策略？怎么保证 id 唯一？
对 uuid 的理解？知道哪些 GUID、Random 算法？
主键选随机 id、uuid 还是自增 id？为什么？主键有序无序对数据库的影响？
主从复制的过程？复制原理？怎么保证强一致性？
B+树和B树，联合索引等原理
你这个千万级别数据怎么处理的，分库分表？
mysql的悲观锁和乐观锁区别和应用，ABA问题的解决
事务的可重复读幻读是什么情况，怎么解决幻读
mysql的数据页空洞是怎么造成的，如果解决，索引是局部还是全局的
mysql如果发生了抖动，怎么排查问题
mysql的索引底层，还有explain每个字段的介绍，以及type类型都有哪些，分别都代表什么意思
数据库Mysql的架构
Mysql的存储引擎讲一下
Mysql搭建集群，主机宕机之后怎么办
悲观锁性能不高为什么还要用分布式锁（单纯为了对比）
什么时候是行锁，什么时候是表锁？
mysql如何性能调优？比较缓慢的话，从哪个方面优化？
一条mysql查询经历了什么
一条mysql更新经历了什么？
更新的时候索引如何更新，描述一下算法
数据库如何实现回滚到一天前？
数据库的备份怎么实现的？
什么是冷备份什么是热备份
B+树非叶子节点存放了什么？
B+树如何利用磁盘预读特性？（因为B+树存了key，key接近）
mysql读的很慢的原因怎么查询（慢查询日志和expalin）
什么叫乐观锁，什么叫悲观锁？你的mysql怎么实现？
什么时候是表锁，什么时候是行锁？
加锁加在B+树的哪个地方
哈希索引存的数据大小没有b树多
数据库四大隔离级别
四大隔离级别分别会有什么问题
什么叫不可重复度
MVCC能解决幻读吗？
一个节点能够存储多少数据
数据库索引 什么时候不能用索引
mysql如何实现可重复读
死锁 解决方法
消息队列使用
事务4大特性，一致性具体指什么？这4个特性mysql如何保证实现的？
事务隔离级别，4个隔离级别分别有什么并发问题？
Mysql默认隔离级别？如何保证并发安全？
RR和RC如何实现的？RR使用场景？对比volatile可见性，为什么RR的事务要设计成不能读另一个事务已经提交的数据？
隔离级别的单位是数据表还是数据行？如串行化级别，两个事务访问不同的数据行，能并发？
存储引擎Innodb和Myisam的区别以及使用场景
介绍Inodb锁机制，行锁，表锁，意向锁
哈希索引是如何实现的？
B树索引为什么使用B+树，相对于B树有什么优点？为什么不能红黑树？要提到磁盘预读
聚簇索引和非聚簇索引区别
回表查询和覆盖索引
如何创建索引？
如何使用索引避免全表扫描？
Explain语句各字段的意义
最左前缀！！联合索引B+树是如何建立的？是如何查询的？当where子句中出现>时，联合索引命中是如何的? 如 where a > 10 and b = “111”时，联合索引如何创建？mysql优化器会针对得做出优化吗？
MySQL中一条SQL语句的执行过程
数据库几大范式
left join,right join,inner join,outer join的含义及区别
mysql主从复制过程，binlog记录格式，复制的异步半同步同步模式区别
主从复制或读写分离等数据不一致性问题以及如何解决
银行的话，可以会考mysql数据类型，如余额要用decimal
事务的隔离机制？四种事务隔离级别的分别是什么意思，有什么区别？事务隔离机制里用了AOP，是如何用的？
乐观锁和悲观锁？在数据库里怎么实现一个乐观锁？乐观锁在数据库中的实现形式？
mysql的索引底层，以及覆盖索引和普通索引的区别，你平常怎么看你的SQL有没有使用到索引（我说的explain执行计划），如果使用了覆盖索引，在执行计划上面那个字段会体现，显示的是什么
mysql 索引在什么情况下会失效
mysql 的索引模型
mysql 主从同步怎么搞的？分哪几个过程？如果有一台新机器要加到从机里，怎么个过程。
binlog 日志是 master 推的还是 salve 来拉的？
MySQL 如何分析一条语句的执行过程。delete from t1 limit 3和delete from t1的区别？
MySQL 事务的四个隔离级别？ 先说了四个级别的区别，然后说了每个级别可能产生的问题
binlog 日志和 redolog 日志清楚吗？ 说了两个日志的作用以及两阶段提交
MySQL的索引，为什么是B+而不是平衡二叉树
索引查找在Linux的磁盘上是怎么操作的
聚簇索引相对于B+索引的优点
MySQL的IO过高怎么优化，分库分表及分区
MySQL的索引结构，myisam的索引结构， innodb的索引结构，innodb为什么必须要有主键索引
添加索引，为什么可以减少io操作（磁盘页）
数据库的ACID和隔离级别？ 分布式事务了解吗？有哪些处理方法？
mysql底层实现
MySQL的行锁的实现原理
现在有一个联合索引（A，B),那么 A、B、（A，B）三者谁能够命中索引呢？ 那（A、B）这个联合索引的B+树结构是怎样的呢？



# 数据库

多个服务器间共享session的解决方案
不使用redis存储session该怎么做
如何保证缓存与数据库读写一致性？
针对千万次每秒的访问，分布式缓存如何实现？主从换从如何保证一致性
对数据库压力很大怎么解决？说了redis库存预加载和本地内存标记，问还有没有其他方案
redis扛不住的话有哪些解决方案？说了主从同步，但面试官说这对这样对数据一致性要求比较高
标志位更新为什么要分布式锁？
如何保证缓存一致性



# 开放题

如果打开页面慢的话，怎么排查
项目相关，压测情况，如何继续优化
消息队列消费积压如何解决
设计任务调度系统，确保每个服务器处理的任务数量均衡
如何做到抗高并发
如何做接口限流和防止超卖
接口限流的方式有哪些
消息队列的优势
限流和集群扩展的顺序问题
洪峰流量到达的时候怎么办
消息队列用来干什么的？
秒杀项目如何保证HA？
连接池怎么设计
有没有对自己开发的模块做过压测？如果让你去做压测，你会如何去做？
如果数据规模增大几个数量级，可以有什么优化？ 联合索引的使用，减少回表次数
如果打开页面慢的话，怎么排查
比如你的服务器，一个小时前的cpu占用率到达百分之百，现在恢复正常，你怎么排查出来之前是什么原理导致的（这个可以看nginx的日志）
如果用户量上涨怎么优化
为什么要做系统拆分；
数据库调优思路的思路。
1）.慢查询的开启并捕获
2）.explain+慢sql分析
3）.show profile查询sql在mysql服务器里面的执行细节和生命周期情况
4）.sql数据库服务器的参数调优
如何提高系统QPS。
这个问题我感觉大致可以从这几个方面
1）、单机版能承受并发的能力是有限的，我们可以进行系统拆分，分开部署在不同的机器上。
2）、用消息队列削峰。系统不至于因为瞬间的流量挂掉。并且可以配合使用限流与服务降级。
3）、用redis什么的做缓存。
4）、数据库分库分表，建立合适的索引。
如何限流，限流算法，对于ddos攻击怎么处理
如何分析SQL执行慢的原因
1000qps单机怎么处理？
假如一个风控系统响应速度突然变慢怎么排查



# 数据结构

单链表和双链表的区别及应用场景
二叉树转双向链表
代码题：反转单链表。
代码题：复杂链表复制。
二叉树最长路径
判断链表是否有环？刚讲快慢指针，要求只能用一个指针
判断树状结构有没有环
如何让指针指向链表中间
堆和栈的区别
讲讲平衡树
红黑树了解吗？
红黑树比平衡二叉树的优点在哪里，为什么？
红黑树比AVL好在哪里
数组和链表的区别
两个单向链表，返回求和后的链表结构，例如2->3->1->5，和3->6，结果返回2->3->5->1
如何判断一个图是否有环



# 算法

反转链表按k，最长重复子串
64匹马，8个赛道，找最快的4匹马。
64匹马，8个赛道，找最快的8匹马。
有哪些常用排序算法？
手写快排，快排时间复杂度是多少？
快排算法是不是稳定的？什么是稳定性？
给定一个字母组成的字符串，找出不含有重复字符的最长子串的长度。
深度优先，广度优先
括号匹配，时间复杂度，空间复杂度
单向链表的归并排序
链表做加法
1g 大小文件，里面每行是最大 16k 的单词，限制内存 1m，统计单词频率最多的 100 个单词
手写 100 位带小数的大数字的减法
全排列。进阶：给数组长度 n，求第 k 行的排列
反转字符串
一个复杂链表的翻转，一个字符串累加和
设计一个限流的算法
爬虫生成的8G的URL文件，只有1G的内存，如何查找出重复的URL
合并N个有序数组，每个数组的长度为M，合并为N*M的有序数组，时间复杂度要求最低
四则运算（提示使用栈）   讲一下思路
找到出现次数大于一半的数字代码
写一个堆排序
判断回文字符串
最长回文字符串
单例模式饿汉式和懒汉式各有什么优缺点？
递归的缺点，如何弥补缺点
hash算法了解吗？用到哪里？
二分查找有什么特点？对数组有什么要求呢？
中序遍历
堆排序
topK，堆排序，快排，分别复杂度
螺旋打印矩阵
介绍下二分查找
如果我想在链表中使用二分查找，怎么做比较好 (一开始直接说用快慢指针，面试官说你这个没解决问题，可以不用纯链表，改造下，想了好一会才想起跳表这个数据结构)
介绍下归并排序，时间复杂度多少
lru算法知道吗，怎么实现的
一个不知大小的数组，遍历一次，如何保证遍历过程中每个数字是否取出是等概的。
一个数组中，只有一个单个元素，其余都是成双成对的，如何快速找出那个单独的。
一个数组，遍历一遍就找出出现topk个的那个数。
质数 优化
最大公约数 优化
100亿黑名单URL，每个64B,判断一个URL是否在黑名单中
2GB内存在20亿整数中找到出现次数最多的数
40亿个非负整数中找到没有出现的数
40亿个非负整数中找到一个没有出现的数，内存限制10MB
找到100亿个URL中重复的URL
海量搜索词汇，找到最热TOP100词汇的方法
40亿个无符号整数，1GB内存，找到所有出现两次的数
10MB内存，找到40亿整数的中位数
设计短域名系统，将长URL转化成短的URL
拿糖问题 给一个数组{1,3,5,7,8,10}，每个位置上数字代表每个位上有几个糖 不能拿相邻的糖，最终怎么拿最多的糖
两个排序数组找中位数
就数字n的平方根
设计一个算法，抽奖次数越多中奖概率就越高
跳台阶
数组中奇数个元素
一栋楼有n层，不知道鸡蛋从第几层扔下去会碎，用最少的次数找出刚好会碎的楼层
动态规划与贪心有什么区别
paxos算法，这个算法我说不清楚，然后说了raft算法
背包问题
贝叶斯的概率学原理
分词算法
连续整数求和(leetcode 第 829 题)，要求时间复杂度小于O(N)
一个无序数组找其子序列构成的和最大，要求子序列中的元素在原数组中两两都不相邻
缺失的第一个正数（leetcode第41题）
现有一个随机数生成器可以生成0到4的数，现在要让你用这个随机数生成器生成0到6的随机数，要保证生成的数概率均匀。
有 N 枚棋子，每个人一次可以拿1到 M 个，谁拿完后棋子的数量为0谁就获胜。现在有1000颗棋子，每次最多拿8个，A 先拿，那么 A 有必胜的拿法吗？第一个人拿完后剩余棋子的数量是8的倍数就必胜，否则就必输。
给出一棵二叉树的根节点，现在有这个二叉树的部分节点，要求这些节点最近的公共祖先。
算法：一个正数数组，长度为N，且数组元素<N，统计每个正数出现的次数，要求时间复杂度O(n) 空间复杂度O(1)；
返回一个树的左视图；
手撕算法：N个有序列表的合并排序；
判断一个树是否是平衡二叉树
输出一个集合的所有子集
leetcode 106. 从中序与后序遍历序列构造二叉树
leetcode 86. 分隔链表
在1个10G大小的文件中，存储的都是int型的数据，如何在内存使用小于8M的情况下进行排序
查找一个字符串中最长的无重复字串
在一个横向和纵向都是递增的有界二维坐标轴中，如何快速判断某个数是否存在于这个二维坐标中
一个超级长的数字（有几十位那种），允许进行任意多次的任意两位交换，得到的比他大的最小的数字是多少
leetcode647
知道的排序算法，以及复杂度。
两个1G排好序的文件，按序合并。
二叉树层序遍历输出，每一层输出数组（手写算法）。
一个数组获取最大的k个数，大顶堆，排序。
时间复杂度为O(nlgn)的排序算法都有哪些呢？ 快排、归并、堆排序
快排是稳定的吗？ 稳定是指什么意思？
整数无序双向链表可以转换为排序二叉树（能不能、为什么能、怎么做）


设计模式
之前用过哪些设计模式？
工厂方法和抽象工厂的区别
装饰器和代理区别
对于单例，你知道哪些实现方法？
实现一个懒加载单例
双重校验锁为什么需要双重校验？
设计模式用了哪些，手写出来
观察者模式讲一下
死信队列模型
秒杀系统压力最大的是哪部分呢？
死信队列是什么？
抽象类和接口的区别
单例模式，工厂模式
知道哪些设计模式；单例有什么缺点；
AOP和OOP的区别；
你了解哪些设计模式？讲一讲观察者模式和策略模式？
设计模式大致说下你熟悉的框架中用到的设计模式
项目中用到的设计模式。



# 系统设计

restful 的作用？有哪些优点和缺点？
前后端分离与不分离的区别？各有什么优缺点？
一天爬一千万条文章，怎么做设计？怎么并行协调？100 台服务器怎么尽可能负载均衡？
怎么设计一个秒杀系统？怎么解决大并发？
设计一个抢红包系统，要注意哪些点
设计一个微博社交系统，怎么更高效，索引怎么设计、提高效率，查询扫描行数，缓存设计
设计一个视频上传的流程。表设计？文件上传服务器的原理？cdn？高qps怎么处理？上传和请求？缓存怎么加？
有什么分布式 id 生成方法？各自的优缺点是什么？
反羊毛怎么做？
设计一个简单的智能家具系统，比如说加湿器和温湿度传感器关联，怎么设计？考虑哪些点？
设计一个登陆过程。md5 的原理？可逆么？
怎么实现商城的商品推荐系统
秒杀项目的架构
除了死信队列你还可以有啥办法实现失效超时未支付订单
如何解决重复消费
线程池的实现要素，工作流程
有哪些拒绝策略
cookie不安全 如何避免
让你系统的设计一个高并发的架构，你会从哪几个方面考虑？
一个千万级的APP，你要搞定关注和粉丝列表，你用什么来做。要求最后一个关注的在最前面。新增和取关都要比较快的反馈你怎么做？如果一个人关注了之后，服务器宕机了怎么办？
假设有这么一个场景，有一条新闻，新闻的评论量可能很大，如何设计评论的读和写
显示网站的用户在线数的解决思路
如何解决超卖？mysql锁+redis预减库存+redis缓存卖完标记
如何解决重复下单？mysql唯一索引+分布式锁
如何防刷？IP限流+验证码
热key问题如何解决？redis集群+本地缓存+限流+key加随机值分布在多个实例中
消息队列的作用？如何保证消息的不丢失？异步削峰；发送方开启confirm+消息队列持久化+消费方关闭自动ACK,确保消费成功之后自动调用API进行确认。
缓存和数据库数据一致性如何保证？秒杀项目不用保证，其他项目就用延时双删或者先更新数据再是缓存失效，为防缓存失效这一信息丢失，可用消息队***保。
压测没有？用什么压测？什么情况？
系统瓶颈在哪？如何查找，如何再优化？
面对百万级的数据，你的模块需要怎么优化？
服务发现是怎么实现的
熔断是怎么实现的
id生成器怎么实现的，如何实现全局递增
任务系统怎么保证任务完成后发奖一定成功
让你设计一个限流的系统怎么做？ 令牌桶
让你设计一个延时任务系统怎么做 说了两个方案，一个是使用 redis 的 ZSET 来实现，考虑分片来抗高并发，使用 redis 的持久化来实现落地，使用 redis 的哨兵实现故障转移。 一个是使用时间轮的方法。
一个系统需要加载100G的数据，在这期间还要能正常处理外部请求；
微信朋友圈该如何设计；如果换做是微博呢？
主播排行榜的设计，要求快速查看主播排行和前后主播；
RPC相对于传统的API调用的优点
以微博为例，有1个亿的用户，同时用户之间有关注和粉丝，用户的关注和取关操作比较频繁，如何设计架构和API接口
设计一个定时任务管理器



# 安全

常见 web 攻击有哪些？了解 csrf 攻击么？
mysql的注入，怎么处理
XSS攻击
SQL注入攻击
洪泛攻击
tcp flooding攻击 如何防范
中间人攻击 如何防范



# 分布式

有哪些分布式组件是你最熟悉的，简单聊一聊。
cap 是指什么？mysql 满足 cap 中哪些？
分布式锁有哪些方式可以实现？各有什么优缺点？
什么是一致性 hash？自己实现一致性 hash，会用什么数据结构？
讲讲你理解的分布式系统    讲到了分布式锁
分布式锁redis和zookeeper实现区别，使用场景
如何做分布式锁
一致性哈希
说说一致性哈希算法？和哈希算法有什么区别呢？
一致性哈希算法还适用啥场景
分布式锁主要用在什么地方？你的分布式锁是怎么实现的？
分布式锁的优缺点
分布式锁的实现，用的场景
遇到的难点，分布式锁存在的问题
怎么解决缓存一致性问题
分布式锁的设计，分布式事务如何实现
分布式事务



# php

php的date参数
include和require区别
===和==区别
date函数怎么插入上周时间
一般项目PHP起几个进程
项目上线后有几个PHP服务器，单服务器出故障怎么处理   计算、存储、业务
PHP弱语言类型怎么实现的
PHP和JAVA区别
php的hashtable
foreach为什么比for循环快
php的fpm进程管理器的三种模式，优缺点是什么
php fpm进程master进程和worker进程分别的责任是什么
php常用的运行模式有哪些，fpm和cli运行生命周期是什么和fpm模式中在进行fcgi-accept-request中如何解决惊群现象的，你知道nginx怎么解决惊群现象的，区别呢？
你的PHP是怎么做安全处理的，比如SQL注入、xss、csrf
php导出，如果存在把内存打爆，怎么处理的
你觉得PHP相对比JAVA或者GO有什么异同
PHP源码的数组的排序是在底层源码哪里体现的。
PHP的垃圾回收机制
PHP如果一个页面超时，怎么查看是哪一个接口超时的。这里查看慢查询日志
PHP的FPM进程管理器的三种管理模式都有什么
PHP数组的底层实现
PHP是否适合做守护进程，为什么（内存管理这一块）
PHP的垃圾回收机制